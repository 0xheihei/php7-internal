## 1.1 PHP简介

### 1.1.1 PHP的历史发展
PHP是一种非常流行的高级脚本语言，尤其适合Web开发，快速、灵活和实用是PHP最重要的特点。PHP自1995年由Lerdorf创建以来，在全球得到了非常广泛的应用。

在1995年早期以Personal Home Page Tools (PHP Tools) 开始对外发表第一个版本，Lerdorf写了一些介绍此程序的文档，并且发布了PHP1.0。在这早期的版本中，提供了访客留言本、访客计数器等简单的功能，之后越来越多的网站开始使用PHP，并且强烈要求增加一些特性，在新的成员加入开发行列之后，Rasmus Lerdorf 在1995年6月8日将 PHP/FI 公开发布，希望可以通过社群来加速程序开发与寻找错误。这个发布的版本命名为 PHP 2，已经有今日 PHP 的一些雏型，像是类似 Perl 的变量命名方式、表单处理功能、以及嵌入到 HTML 中执行的能力。程序语法上也类似 Perl，有较多的限制，不过更简单、更有弹性。PHP/FI加入了对MySQL的支持，从此建立了PHP在动态网页开发上的地位。到了1996年底，有15000个网站使用 PHP/FI。

在1997年，任职于 Technion IIT 公司的两个以色列程序设计师：Zeev Suraski 和 Andi Gutmans，重写了PHP的解析器，成为PHP3的基础，而 PHP 也在这个时候改称为PHP：Hypertext Preprocessor，1998年6月正式发布 PHP 3。Zeev Suraski 和 Andi Gutmans 在 PHP 3 发布后开始改写  PHP 的核心，这个在1999年发布的解析器称为 Zend Engine，他们也在以色列的 Ramat Gan 成立了 Zend Technologies 来管理 PHP 的开发。

在2000年5月22日，以Zend Engine 1.0为基础的PHP 4正式发布，2004年7月13日则发布了PHP 5，PHP 5则使用了第二代的Zend Engine。PHP包含了许多新特色:完全实现面向对象、引入PDO、以及许多性能方面的改进。目前PHP5.X仍然是应用非常广泛的一个版本。

### 1.1.2 PHP特点
PHP 独特的语法混合了 C、Java、Perl 以及 PHP 自创新的语法，丰富的语法支持、同时支持面向对象、面向过程，相比C、Java等语言具有语法简洁、使用灵活、开发效率高、容易学习等特点。

* 开源免费：PHP社群有大量活跃的开发者贡献代码
* 快捷：程序开发快，运行快，技术本身学习快，实用性强
* 效率高：PHP消耗相当少的系统资源，自动gc机制
* 类库资源：有大量可用类库供开发者使用
* 扩展性：允许用户使用C/C++扩展PHP
* 跨平台：可以在unix、windows、max os等系统上面使用PHP 

## 1.2 PHP7特性
PHP7在内核方面做了很多优化，大大提高了PHP的性能，比如zval结构以及引用计数的改变节省了内存的使用。接下来我们简单看下PHP7都有哪些比较大的改进。



## 1.3 PHP内核的组成

### 1.1.1 SAPI
PHP本身可以理解为是一个库函数，它有标准的输入、输出，而SAPI可以认为是PHP的一个使用者，它可以调用PHP内核提供的一些接口，所以严格意义上讲SAPI并不算PHP内核的一部分，最常用的SAPI就是cli、php-fpm这两个了，它们是再普通不过的C程序了，main函数通常也是定义在SAPI中，而PHP就是一个纯碎的解析器。

### 1.1.3 Zend引擎
Zend是PHP语言实现的核心，比如语法分析、代码执行等等都是Zend引擎实现的，这是PHP最基础、最核心的部分，我们后面绝大部分的源码分析都是针对Zend的。

## 1.4 PHP执行的几个阶段
